# ????????????????????????????????????????????????????????????????????????????????
# Configuration Spring Boot - Démineur Pro
# ????????????????????????????????????????????????????????????????????????????????

# ?????????????????????????????????????????????????????????????????????????????
# CONFIGURATION DU SERVEUR
# ?????????????????????????????????????????????????????????????????????????????
server.port=8080
server.servlet.context-path=/

# Nom de l'application
spring.application.name=Demineur Pro

# ?????????????????????????????????????????????????????????????????????????????
# CONFIGURATION DE LA BASE DE DONNÉES MYSQL
# ?????????????????????????????????????????????????????????????????????????????
# URL de connexion (modifiez si votre MySQL est sur un autre port ou serveur)
spring.datasource.url=jdbc:mysql://localhost:3306/Minesweeper?useUnicode=true&characterEncoding=UTF-8&serverTimezone=UTC

# Identifiants MySQL (MODIFIEZ selon votre configuration)
spring.datasource.username=root
spring.datasource.password=

# Driver JDBC
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Pool de connexions
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000

# ?????????????????????????????????????????????????????????????????????????????
# CONFIGURATION JPA / HIBERNATE
# ?????????????????????????????????????????????????????????????????????????????
# Stratégie de création des tables
# - create: Supprime et recrée les tables à chaque démarrage (ATTENTION: perte de données!)
# - update: Met à jour la structure sans perdre les données (RECOMMANDÉ)
# - validate: Vérifie que la structure correspond sans modification
# - none: Ne fait rien
spring.jpa.hibernate.ddl-auto=update

# Afficher les requêtes SQL dans la console (utile pour le debug)
spring.jpa.show-sql=false

# Formater les requêtes SQL pour une meilleure lisibilité
spring.jpa.properties.hibernate.format_sql=true

# Dialecte MySQL
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Support UTF-8 (IMPORTANT pour les accents français)
spring.jpa.properties.hibernate.connection.characterEncoding=utf-8
spring.jpa.properties.hibernate.connection.useUnicode=true
spring.jpa.properties.hibernate.connection.CharSet=utf-8

# ?????????????????????????????????????????????????????????????????????????????
# CONFIGURATION CORS (Cross-Origin Resource Sharing)
# ?????????????????????????????????????????????????????????????????????????????
# Autoriser toutes les origines (pour le développement)
# En production, remplacez * par votre domaine: https://votre-domaine.com
spring.web.cors.allowed-origins=*
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=false

# ?????????????????????????????????????????????????????????????????????????????
# CONFIGURATION DES RESSOURCES STATIQUES (Frontend)
# ?????????????????????????????????????????????????????????????????????????????
# Emplacement des fichiers statiques (HTML, CSS, JS)
spring.web.resources.static-locations=classpath:/static/

# Pattern d'URL pour accéder aux ressources statiques
spring.mvc.static-path-pattern=/**

# Cache des ressources statiques (en secondes)
spring.web.resources.cache.period=3600

# ?????????????????????????????????????????????????????????????????????????????
# CONFIGURATION DES LOGS
# ?????????????????????????????????????????????????????????????????????????????
# Niveau de log global
logging.level.root=INFO

# Logs de l'application
logging.level.com.minesweeper=DEBUG

# Logs Hibernate (requêtes SQL détaillées)
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Logs Spring
logging.level.org.springframework.web=INFO

# Format des logs dans la console
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# ?????????????????????????????????????????????????????????????????????????????
# CONFIGURATION DES ACTUATORS (Monitoring)
# ?????????????????????????????????????????????????????????????????????????????
# Endpoints disponibles: health, info, metrics
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always

# Informations de l'application
info.app.name=Démineur Pro
info.app.description=Jeu de démineur avec API REST Spring Boot
info.app.version=1.0.0
info.app.encoding=@project.build.sourceEncoding@
info.app.java.version=@java.version@

# ?????????????????????????????????????????????????????????????????????????????
# CONFIGURATION DE L'ENCODAGE
# ?????????????????????????????????????????????????????????????????????????????
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true

# ?????????????????????????????????????????????????????????????????????????????
# CONFIGURATION POUR LA PRODUCTION
# ?????????????????????????????????????????????????????????????????????????????
# Décommentez ces lignes pour la production:

# Désactiver l'affichage des erreurs détaillées
# server.error.include-message=never
# server.error.include-binding-errors=never
# server.error.include-stacktrace=never
# server.error.include-exception=false

# Activer la compression des réponses HTTP
# server.compression.enabled=true
# server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json

# Sécurité HTTP
# server.servlet.session.timeout=30m
# server.servlet.session.cookie.http-only=true
# server.servlet.session.cookie.secure=true

# ????????????????????????????????????????????????????????????????????????????????
# NOTES IMPORTANTES
# ????????????????????????????????????????????????????????????????????????????????
#
# ? POUR MODIFIER LA CONFIGURATION SANS RECOMPILER :
#    Créez un fichier application.properties à côté du JAR et modifiez les valeurs
#    Exemple: java -jar demineur-app.jar --spring.datasource.password=monmotdepasse
#
# ? POUR CHANGER LE PORT :
#    java -jar demineur-app.jar --server.port=9090
#
# ? EN PRODUCTION :
#    - Changez spring.datasource.password
#    - Changez spring.web.cors.allowed-origins=* en votre domaine
#    - Mettez spring.jpa.show-sql=false
#    - Activez les options de sécurité commentées ci-dessus
#
# ? ACCÈS AUX ENDPOINTS :
#    - Application : http://localhost:8080
#    - API Health : http://localhost:8080/api/health
#    - Actuator Health : http://localhost:8080/actuator/health
#    - Actuator Info : http://localhost:8080/actuator/info
#
# ????????????????????????????????????????????????????????????????????????????????